#pragma once
#include "Constants.h"

bool DeveloperMode = 0;

bool AnimationIsON = 1;
// Число от 1 до 5. 1 - медленно, 5 - быстро
int AnimationSpeed = 3;

SDL_Window* window = SDL_CreateWindow(u8"BRANCHES",
	SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED,
	WIDTH, HEIGHT, SDL_WINDOW_SHOWN);
SDL_Renderer* renderer = SDL_CreateRenderer(window, -1,
	SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC);

SDL_Rect Windrect = { WindX, WindY, WindW, WindH };

cell** Crates = ArrCreate2D_cell();


int numWcells = 5;
int numHcells = 5;

int CRATESIZE;

int mouseX = 0, mouseY = 0;

SDL_Event event = { 0 };

int state = 0;

int lvl = 5;

bool muteMUTED = false;
bool musicMUTED = false;

bool GamePaused = false;

bool NeedToChangeConsole = true;
// Нужна чтобы менять текстуры веток на активированные и наоборот
bool NeedToRefreshCrates = true;

bool NeedToGenerateLevel = true;

bool KeyNavigation = false;

//                  0  1  2  3  4  5  6  7  8  9  0
int LvlSizes[11] = {0, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8};

int TexturesLvls[10][8][8] = {
// 1
{//   0  1  2  3  4  5  6  7
	{ 2, 1, 2, 0, 0, 0, 0, 0}, //0
	{ 1, 5, 1, 0, 0, 0, 0, 0}, //1
	{ 6, 2, 2, 0, 0, 0, 0, 0}, //2
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //3
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //4
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 2
{//   0  1  2  3  4  5  6  7
	{ 5, 3, 1, 5, 0, 0, 0, 0}, //0
	{ 6, 4, 2, 5, 0, 0, 0, 0}, //1
	{ 5, 1, 1, 1, 0, 0, 0, 0}, //2
	{ 2, 2, 2, 2, 0, 0, 0, 0}, //3
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //4
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 3
{//   0  1  2  3  4  5  6  7
	{ 5, 2, 3, 2, 0, 0, 0, 0}, //0
	{ 1, 5, 6, 1, 0, 0, 0, 0}, //1
	{ 3, 2, 5, 1, 0, 0, 0, 0}, //2
	{ 5, 2, 3, 2, 0, 0, 0, 0}, //3
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //4
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 4
{//   0  1  2  3  4  5  6  7
	{ 6, 1, 3, 1, 2, 0, 0, 0}, //0
	{ 5, 2, 1, 5, 5, 0, 0, 0}, //1
	{ 2, 2, 2, 3, 2, 0, 0, 0}, //2
	{ 1, 5, 3, 2, 1, 0, 0, 0}, //3
	{ 2, 1, 2, 2, 2, 0, 0, 0}, //4
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 5
{//   0  1  2  3  4  5  6  7
	{ 5, 5, 5, 5, 5, 0, 0, 0}, //0
	{ 2, 3, 1, 1, 1, 0, 0, 0}, //1
	{ 2, 2, 1, 3, 2, 0, 0, 0}, //2
	{ 3, 3, 2, 2, 2, 0, 0, 0}, //3
	{ 6, 2, 1, 1, 2, 0, 0, 0}, //4
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 6
{//   0  1  2  3  4  5  6  7
	{ 5, 2, 5, 1, 3, 2, 0, 0}, //0
	{ 5, 3, 5, 5, 2, 1, 0, 0}, //1
	{ 3, 3, 5, 6, 1, 3, 0, 0}, //2
	{ 2, 1, 2, 5, 2, 3, 0, 0}, //3
	{ 2, 2, 1, 2, 2, 1, 0, 0}, //4
	{ 5, 2, 3, 1, 1, 2, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 7
{//   0  1  2  3  4  5  6  7
	{ 5, 2, 5, 6, 2, 5, 0, 0}, //0
	{ 5, 1, 3, 5, 1, 1, 0, 0}, //1
	{ 3, 2, 3, 5, 3, 2, 0, 0}, //2
	{ 2, 1, 4, 1, 3, 2, 0, 0}, //3
	{ 2, 2, 3, 1, 5, 1, 0, 0}, //4
	{ 5, 2, 2, 5, 1, 2, 0, 0}, //5
	{ 0, 0, 0, 0, 0, 0, 0, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 8
{//   0  1  2  3  4  5  6  7
	{ 5, 5, 3, 3, 2, 2, 5, 0}, //0
	{ 2, 1, 3, 5, 5, 3, 2, 0}, //1
	{ 2, 5, 3, 6, 2, 1, 3, 0}, //2
	{ 2, 3, 2, 6, 3, 5, 1, 0}, //3
	{ 2, 2, 5, 2, 5, 2, 3, 0}, //4
	{ 5, 3, 1, 3, 1, 2, 1, 0}, //5
	{ 5, 2, 1, 3, 5, 2, 2, 0}, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0}  //7
},
// 9
{//   0  1  2  3  4  5  6  7
	{ 2, 2, 5, 3, 2, 5, 5, 0 }, //0
	{ 1, 2, 2, 1, 3, 2, 1, 0 }, //1
	{ 5, 2, 3, 2, 1, 2, 2, 0 }, //2
	{ 2, 2, 2, 2, 2, 2, 2, 0 }, //3
	{ 2, 3, 2, 2, 1, 3, 3, 0 }, //4
	{ 2, 2, 2, 1, 2, 1, 6, 0 }, //5
	{ 2, 5, 2, 5, 2, 2, 5, 0 }, //6
	{ 0, 0, 0, 0, 0, 0, 0, 0 }  //7
},
// 10
{//   0  1  2  3  4  5  6  7
	{ 5, 2, 2, 2, 3, 2, 5, 2 }, //0
	{ 3, 2, 2, 2, 1, 2, 1, 2 }, //1
	{ 3, 1, 5, 2, 3, 1, 1, 2 }, //2
	{ 5, 2, 1, 3, 2, 5, 2, 2 }, //3
	{ 2, 3, 5, 1, 2, 1, 2, 5 }, //4
	{ 1, 2, 2, 1, 2, 1, 2, 1 }, //5
	{ 2, 3, 6, 3, 3, 5, 3, 2 }, //6
	{ 5, 2, 5, 2, 2, 1, 5, 2 }  //7
}

// 10
//{//   0  1  2  3  4  5  6  7
//	{ 0, 6, 0, 0, 5, 0, 0, 0 }, //0
//	{ 6, 4, 1, 1, 4, 1, 1, 5 }, //1
//	{ 0, 1, 0, 0, 1, 0, 0, 0 }, //2
//	{ 5, 1, 1, 6, 6, 1, 0, 5 }, //3
//	{ 0, 1, 0, 0, 1, 0, 0, 0 }, //4
//	{ 0, 3, 6, 1, 4, 1, 1, 5 }, //5
//	{ 0, 1, 0, 0, 1, 0, 0, 0 }, //6
//	{ 0, 5, 0, 0, 6, 0, 0, 0 }  //7
//}
};

// ПУСТОЕ ПОЛЕ
//{//   0  1  2  3  4  5  6  7
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //0
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //1
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //2
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //3
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //4
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //5
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }, //6
//	{ 0, 0, 0, 0, 0, 0, 0, 0 }  //7
//}

int RotatesLvl1[5][5] = {
	{0, 5, 1, 1, 1},
	{0, 0, 3, 1, 0},
	{0, 0, 0, 0, 1},
	{3, 1, 1, 2, 0},
	{1, 0, 0, 0, 0}
};

bool WIN = 0;

int CntFlowers = 0;

int cnt = 0;

int Pro3 = 100;

bool FP = 1;

bool IsFirstCycle = 1;

bool lvlcompleted[11] = {0};

int ProZR = 50;

int RectsSize = 0;
SDL_Rect* Rects = ArrCreate1D_Rect(RectsSize);
SDL_Rect CurrentRect = {0};
int CurRectInd = 0;

int ArrSpeedOfAnim[6] = {0, 1, 2, 3, 6, 9};

int spread = 150;

int InfinityDifficulty = 0;
int NumOfCompletedInfLevels = 0;